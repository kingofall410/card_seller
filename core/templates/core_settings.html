<style>
  .settings-block {
    display: flex;
    flex-direction: column;
    gap: 16px; /* consistent vertical spacing between file + autocomplete */
    margin-bottom: 40px; /* spacing between blocks */
  }

  hr {
    border: none;
    border-top: 1px solid #ccc;
    margin: 32px 0;
  }


</style>
{% include "header.html" %}
{% load static %}
{# Load Brand Configuration #}
  <div class="container mt-4">
    <h2>Settings</h2>

    <div class="settings-block">
      {% include "file_upload.html" with field_key="brands" upload_url="upload/brands/" %}<br>
      {% include "settings_tokens.html" with primary_field_key="brands" secondary_field_key="subsets" primary_autocomplete_id="brands-autocomplete-data" secondary_autocomplete_id="subsets-autocomplete-data" %}<br><br>
    </div><hr>
    <div class="settings-block">
      {% include "file_upload.html" with field_key="names" upload_url="upload/names/" %}<br>
      {% include "settings_tokens.html" with primary_field_key="names" secondary_field_key="" primary_autocomplete_id="names-autocomplete-data" secondary_autocomplete_id="" %}<br><br>
    </div><hr>
    <div class="settings-block">
      {% include "file_upload.html" with field_key="cities" upload_url="upload/cities/" %}<br>
      {% include "settings_tokens.html" with primary_field_key="cities" secondary_field_key="teams" primary_autocomplete_id="cities-autocomplete-data" secondary_autocomplete_id="teams-autocomplete-data" %}<br>
    </div><hr>
    <div class="settings-block">
      {% include "file_upload.html" with field_key="attribs" upload_url="upload/attribs/" %}<br>
      {% include "settings_tokens.html" with primary_field_key="attribs" secondary_field_key="" primary_autocomplete_id="attribs-autocomplete-data" secondary_autocomplete_id="" %}<br>
    </div><hr>

    <form method="post" action="{% url 'update_settings' %}" style="margin-top: 24px;">
    {% csrf_token %}
    <label for="nr_returned_listings" style="font-weight: bold; margin-right: 12px;">
      Number of Listings to Return:
    </label>
    <input type="number" id="nr_returned_listings" name="nr_returned_listings"
      value="{{ settings.nr_returned_listings }}" min="1" max="100"
      style="padding: 6px 10px; width: 80px; border-radius: 4px; border: 1px solid #ccc;" /><br><br>
    <label for="nr_collection_page_items" style="font-weight: bold; margin-right: 12px;">
      Items per page:
    </label>
    <input type="number" id="nr_collection_page_items" name="nr_collection_page_items"
      value="{{ settings.nr_collection_page_items }}" min="1" max="100"
      style="padding: 6px 10px; width: 80px; border-radius: 4px; border: 1px solid #ccc;" /><br><br>
    <button type="submit" style="margin-left: 12px; padding: 6px 12px; background-color: #333; color: white; border: none; border-radius: 4px;">
      Save
    </button>
  </form>
  </div>
